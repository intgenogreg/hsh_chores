<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="為了學習獨立，培養生活自理能力，我們從簡單家事－－洗衣服、倒垃圾、切水果開始練習，也一起分擔家事！！此為輪值網站，每天隨機～～"/>
        <title>換班紀錄</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body>
        <h2 style="display:inline">甜蜜的家值日生 調班紀錄  </h2><a href="index.html">回主頁</a>
        <br/><br/>
        <!--<button onclick="
            zero();
        ">歸零</button>-->
        <div style="font-size:40px"><center>
        <table width="1000" style="text-align:center; border-collapse:separate; border:7px solid black;" border="1">
            <tr>
                <td  width="20"></td>
                <td  width="200">爸</td>
                <td  width="200">媽</td>
                <td  width="200">謙</td>
                <td  width="200">冠</td>
            </tr>
            <tr>
                <td width="200" height="100" style="font-size:40px">洗衣服</td>
                <td><span id="dc"></span></td>
                <td><span id="mc"></span></td>
                <td><span id="sc"></span></td>
                <td><span id="gc"></span></td>
            </tr>
            <tr>
                <td width="200" height="100" style="font-size:40px">倒垃圾</td>
                <td><span id="dg"></span></td>
                <td><span id="mg"></span></td>
                <td><span id="sg"></span></td>
                <td><span id="gg"></span></td>
            </tr>
            <tr>
                <td width="200" height="100" style="font-size:40px">切水果</td>
                <td><span id="df"></span></td>
                <td><span id="mf"></span></td>
                <td><span id="sf"></span></td>
                <td><span id="gf"></span></td>
            </tr>
        </table>
        </center></div>
        

        <!-- Firebase SDK -->
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
        <script>
            const firebaseConfig = {
            apiKey: "AIzaSyDi9v1HV7UFeQnePmg3ZUYeK3wO9O731GI",
            authDomain: "hsh-chores.firebaseapp.com",
            projectId: "hsh-chores",
            storageBucket: "hsh-chores.firebasestorage.app",
            messagingSenderId: "961868131334",
            appId: "1:961868131334:web:216b9eb86697f5fe162787",
            measurementId: "G-75SKCF41PG"
            }; //這個firebaseConfig是找到我的firebase的關鍵

            firebase.initializeApp(firebaseConfig); //用在這!!
            const db = firebase.database(); //db的型態是firebase.database.Database，代表的是我的firebase
        </script>

        <script>
            const refDad = db.ref("chores/爸");
            const refMom = db.ref("chores/媽");
            const refSean = db.ref("chores/謙");
            const refGreg = db.ref("chores/冠");
            refDad.once("value").then(snapshot => {
                const dad=snapshot.val();
                const dc = dad.clothes;
                const dg = dad.garbage;
                const df = dad.fruit;
                document.getElementById("dc").textContent = dc;
                document.getElementById("dg").textContent = dg;
                document.getElementById("df").textContent = df;
            });
            refMom.once("value").then(snapshot => {
                const mom=snapshot.val();
                const mc = mom.clothes;
                const mg = mom.garbage;
                const mf = mom.fruit;
                document.getElementById("mc").textContent = mc;
                document.getElementById("mg").textContent = mg;
                document.getElementById("mf").textContent = mf;
            });
            refSean.once("value").then(snapshot => {
                const sean=snapshot.val();
                const sc = sean.clothes;
                const sg = sean.garbage;
                const sf = sean.fruit;
                document.getElementById("sc").textContent = sc;
                document.getElementById("sg").textContent = sg;
                document.getElementById("sf").textContent = sf;
            });
            refGreg.once("value").then(snapshot => {
                const greg=snapshot.val();
                const gc = greg.clothes;
                const gg = greg.garbage;
                const gf = greg.fruit;
                document.getElementById("gc").textContent = gc;
                document.getElementById("gg").textContent = gg;
                document.getElementById("gf").textContent = gf;
            });

            function zero(){
                refDad.set({clothes:0, garbage:0, fruit:0});
                refMom.set({clothes:0, garbage:0, fruit:0});
                refGreg.set({clothes:0, garbage:0, fruit:0});
                refSean.set({clothes:0, garbage:0, fruit:0});
            }
        </script>

    </body>
</html>